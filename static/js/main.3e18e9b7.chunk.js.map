{"version":3,"sources":["components/HighScores/HighScores.js","components/MyScore/MyScore.js","components/Button/Button.js","components/LoginButton/LoginButton.js","components/LogoutButton/LogoutButton.js","components/profile/profile.js","App.js","index.js"],"names":["GET_HIGHSCORES","gql","_templateObject","Object","taggedTemplateLiteral","HighScores","_useSubscription","useSubscription","loading","error","data","react_default","a","createElement","console","player","map","p","key","name","score","GET_MYSCORE","MyScore_templateObject","MyScore","username","INCREMENT_MYSCORE","Button_templateObject","Button","_useMutation","useMutation","incrementMyScore","slicedToArray","type","onClick","LoginButton","_useAuth","useAuth0","loginWithRedirect","isAuthenticated","LogoutButton","logout","Profile","user","className","src","picture","alt","keys","objKey","i","App","_useState","useState","ApolloClient","link","WebSocketLink","uri","options","reconnect","connectionParams","headers","x-hasura-admin-secret","process","cache","InMemoryCache","client","ApolloProvider","components_HighScores_HighScores","components_Button_Button","components_MyScore_MyScore","components_LoginButton_LoginButton","components_LogoutButton_LogoutButton","profile","ReactDOM","createRoot","document","getElementById","render","StrictMode","auth0_react_esm","domain","clientId","redirectUri","window","location","origin","src_App_0"],"mappings":"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","file":"static/js/main.3e18e9b7.chunk.js","sourcesContent":["import { gql, useSubscription } from \"@apollo/client\";\nimport React from \"react\";\n\nconst GET_HIGHSCORES = gql`\n  subscription MyQuery {\n    player(limit: 10, order_by: { score: desc }) {\n      name\n      score\n    }\n  }\n`;\n\nconst HighScores = () => {\n  const { loading, error, data } = useSubscription(GET_HIGHSCORES);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  if (error) {\n    console.error(error);\n    return <div>Error!</div>;\n  }\n\n  if (data) {\n    return data.player.map((p) => {\n      return (\n        <div key={p.name}>\n          <p>\n            {p.name}-{p.score}\n          </p>\n        </div>\n      );\n    });\n  }\n};\n\nexport default HighScores;\n","import { gql, useSubscription } from '@apollo/client';\nimport React from 'react';\n\nconst GET_MYSCORE = gql`\n    subscription MyQuery {\n        player(where: {username: {_eq: \"Ravindu\"}}) {\n        username\n        score\n        }\n    }\n`;\n\n\nconst MyScore = () => {\n    const { loading, error, data } = useSubscription(GET_MYSCORE);\n\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n    if (error) {\n        console.error(error);\n        return <div>Error!</div>;\n    }\n    if (data.player[0]) {\n        return (\n            <div>\n                <p>{data.player[0].username}'s score - {data.player[0].score}</p>\n            </div>\n        )\n    }\n}\n\nexport default MyScore;\n","import { gql, useMutation } from '@apollo/client';\nimport React from 'react';\n\nconst INCREMENT_MYSCORE = gql`\n    mutation MyMutation {\n        update_player(where: {username: {_eq: \"Ravindu\"}}, _inc: {score: 1}) {\n        returning {\n            score\n        }\n        }\n    }\n`;\n\nconst Button = () => {\n    const [incrementMyScore] = useMutation(INCREMENT_MYSCORE);\n\n    return (\n        <div>\n            <button type=\"button\" onClick={incrementMyScore}>Click Me</button>\n        </div>\n    )\n};\nexport default Button;","import { useAuth0 } from \"@auth0/auth0-react\";\nimport React from \"react\";\n\nconst LoginButton = () => {\n  const { loginWithRedirect, isAuthenticated } = useAuth0();\n\n  return (\n    !isAuthenticated && (\n      <button onClick={() => loginWithRedirect()}>Login</button>\n    )\n  );\n};\n\nexport default LoginButton;\n","import { useAuth0 } from \"@auth0/auth0-react\";\nimport React from \"react\";\n\nconst LogoutButton = () => {\n  const { logout, isAuthenticated } = useAuth0();\n\n  return isAuthenticated && <button onClick={() => logout()}>Logout</button>;\n};\n\nexport default LogoutButton;\n","import { useAuth0 } from \"@auth0/auth0-react\";\nimport React from \"react\";\n\nconst Profile = () => {\n  const { user, isAuthenticated } = useAuth0();\n\n  return (\n    isAuthenticated && (\n      <div className=\"column\">\n        <img src={user.picture} alt={user.name}/>\n        <h2>{user.name}</h2> \n        <ul>\n          {Object.keys(user).map((objKey, i) => (\n            <li key={i}>\n              {objKey}: {user[objKey]}{\" \"}\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  );\n};\n\nexport default Profile;\n","import React, { useState } from \"react\";\nimport { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\";\nimport { WebSocketLink } from \"@apollo/client/link/ws\";\n\nimport \"./App.css\";\nimport HighScores from \"./components/HighScores/HighScores\";\nimport MyScore from \"./components/MyScore/MyScore\";\nimport Button from \"./components/Button/Button\";\nimport LoginButton from \"./components/LoginButton/LoginButton\";\nimport LogoutButton from \"./components/LogoutButton/LogoutButton\";\nimport Profile from \"./components/profile/profile\";\n\nconst createApolloClient = () => {\n  return new ApolloClient({\n    link: new WebSocketLink({\n      uri: \"wss://simplest-game-ever.hasura.app/v1/graphql\",\n      options: {\n        reconnect: true,\n        connectionParams: {\n          headers: {\n            \"x-hasura-admin-secret\":\n              process.env.REACT_APP_X_HASURA_ADMIN_SECRET,\n          },\n        },\n      },\n    }),\n    cache: new InMemoryCache(),\n  });\n};\n\nconst App = () => {\n  const [client] = useState(createApolloClient());\n  return (\n    <ApolloProvider client={client}>\n      <div className=\"App\">\n        <h1>Simplest Game Ever</h1>\n        <HighScores />\n        <Button />\n        <MyScore />\n      </div>\n      <div className=\"App\">\n        <h1>Authentication Section</h1>\n        <LoginButton />\n        <LogoutButton />\n        <Profile />\n      </div>\n    </ApolloProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst domain = \"dev-stkiosod.us.auth0.com\";\nconst clientId = \"mBngErPZM5YJ4qR3unU2GCVvl5qE7avd\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\n\nroot.render(\n  <React.StrictMode>\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin}\n    >\n      <App />\n    </Auth0Provider>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}